:root{
  /* Global dark theme: base background should be #141414 (user request) */
  --bg:#141414;
  /* surface/card tones kept slightly lighter/darker but never darker than #060606 */
  --surface:#0d0d0d;
  --card:#121212;
  --accent:#e50914; /* Netflix red */
  --header-height: 56px;
  --app-edge-offset: 2%;
  --muted:#9aa3ad;
  --glass: rgba(255,255,255,0.04);
  --poster-small: 180px;
  --poster-medium: 220px;
  --poster-large: 300px;
  --card-extra-height: 64px; /* approximate movie-info + padding height to match full card */
  --movie-card-width: 200px; /* default card width used in rows, override if row sizing changes */
  /* width of the overlay scroll buttons; used to align snap positions to button edges */
  --scroller-button-width: 96px;
  --season-chip-height: 40px;
}

/* Ensure the portal header root is fixed to the top so the navbar stays at the top of the viewport */
#header-root{
  position: fixed;
  inset: 0 0 auto 0; /* top:0; left:0; right:0 */
  z-index: 10001;
  pointer-events: none; /* allow header children to control pointer events */
}
#header-root > .app-header{ pointer-events: auto; }

/* Top-level portal for full-bleed hero. Add a bottom-only gradient overlay
   so the area below the hero blends smoothly into the main app content.
   The overlay is transparent at the top (no blur) and darkens toward the bottom. */
#hero-root{
  position: relative;
  z-index: 999; /* below root, above default */
  /* keep hero below header */
  /* Size the number to 50% of the poster height */
  font-size: calc(var(--poster-medium) * 0.5);
}
#hero-root::after{
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  /* Reduce height so the darker portion sits lower on the page */
  height: 120px; /* shorter fade so dark area is closer to the bottom */
  pointer-events: none;
  /* keep overlay visually below continue row */
  z-index: -1; /* below continue row */
  /* Keep top fully transparent; end in fully opaque black at the bottom */
  background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 78%, rgba(0,0,0,1) 100%);
}

/* Pull the main app root up so it slightly overlaps the hero, and add a top
   fade so the root content blends into the hero. Adjust the translate/margin
   and fade height if you want a different overlap. */
#root{
  position: relative;
  z-index: 1000; /* above hero-root overlay but below header */
  /* lift the root up more so it overlaps hero by a larger amount */
  margin-top: -10vh;
  width: 100%;
}
#root::before{
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  height: 10vh; /* increased fade height to match larger overlap */
  pointer-events: none;
  z-index: -1; /* below continue row */
  /* transparent at the very top, blending to the app background color toward bottom */
  background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(6,6,6,0.96) 100%);
}

*{box-sizing:border-box}
html,body,#root{height:100%; min-height:100%}
/* Full-page persistent background using a fixed pseudo-element so scrolling never cuts it off */
html::before{
  content: "";
  position: fixed;
  inset: 0;
  z-index: -9999;
  pointer-events: none;
  /* ensure gradient end (darkest black used) is #060606 as requested */
  background: linear-gradient(180deg, var(--bg) 0%, #060606 100%);
  background-repeat: no-repeat;
  background-size: cover;
}
html, body, #root { background: transparent; width: 100%; }
body{
  margin:0;
  /* Use system sans-serif stack and a lighter default weight to avoid overly bold text */
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  font-weight: 400;
  /* keep body background transparent so the html pseudo-element shows through */
  background-color: transparent;
  color: #fff;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  /* Prevent page-level horizontal scrolling (rows may still scroll internally) */
  overflow-x: hidden;
}

.app-shell{
  /* remove large top padding that was accounting for header height */
  padding: 8px 0 24px;
  margin: 10px 0;
  width: 100%;
  min-height: 100vh; /* ensure content area fills viewport */
  display: flex;
  flex-direction: column;
  background: transparent;
  position: relative;
}

.chakra-tabs, .chakra-tabpanels, .chakra-tabpanel {
  width: 100% !important;
  padding: 0 !important;
}

.app-header{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:12px;
  margin-bottom:18px;
  position: sticky;
  top: 0;
  /* ensure header always floats above full-bleed hero */
  z-index: 10000;
  /* Dark at the top, transparent at the bottom (no blur/glass effect) */
  background: linear-gradient(180deg, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0) 100%);
  border-radius: 8px;
  padding: 8px 16px;
  min-height: var(--header-height);
}

.app-header .header-controls{ margin-left: auto; }

.app-header [role="tablist"]{ display:flex; gap:18px; align-items:center; padding-top: 6px; }

/* place top-nav centered between brand and header-controls */
.app-header .brand{ flex:0 0 auto; }
.app-header .header-controls{ flex:0 0 auto; margin-left: auto; }

.brand{
  display:flex;
  align-items:center;
  gap:12px;
}
.brand .logo{
  font-weight:800;
  color:var(--accent);
  font-size:28px;
  letter-spacing:1px;
}
.brand .title{font-size:14px;color:var(--muted)}

/* hamburger menu button: hidden on large screens, visible on tablet and mobile */
.app-header .hamburger{ display:none !important; }
@media (max-width: 767px){
  .app-header .hamburger{ display:inline-flex !important; align-items:center; justify-content:center; padding:8px; border-radius:6px; }
}

.movie-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap:18px;
  align-items:start;
}

.movie-card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.18));
  border-radius:8px;
  overflow:hidden;
  transition: transform 180ms ease, box-shadow 180ms ease;
  /* allow a horizontal shift when Top10 ranks overlap the card */
  transform: translateX(var(--card-shift, 0));
  cursor:pointer;
  box-shadow: 0 2px 8px rgba(0,0,0,0.6);
  border: 1px solid rgba(255,255,255,0.03);
  display:flex;
  flex-direction:column;
  position: relative; /* allow absolutely positioned rank badge */
}
.movie-card:hover{ transform: translateX(var(--card-shift, 0)) translateY(-6px) scale(1.02); box-shadow: 0 10px 30px rgba(0,0,0,0.6); }

/* Accent hover / focus effects using Netflix red */
.movie-card{
  transition: transform 180ms ease, box-shadow 180ms ease, border-color 180ms ease;
  border: 1px solid rgba(255,255,255,0.03);
}
.movie-card:hover, .movie-card:focus {
  transform: translateX(var(--card-shift, 0)) translateY(-6px) scale(1.02);
  box-shadow: 0 18px 40px rgba(229,9,20,0.12);
  border-color: rgba(229,9,20,0.18);
}
.movie-card:focus-visible{
  outline: none;
  box-shadow: 0 20px 50px rgba(229,9,20,0.18), 0 6px 18px rgba(0,0,0,0.6);
  border-color: rgba(229,9,20,0.28);
}

/* Play circle accent on hover */
.movie-card:hover .play-circle, .movie-card:focus .play-circle{ border-color: rgba(229,9,20,0.95); box-shadow: 0 6px 18px rgba(229,9,20,0.12); }

/* Tab hover/focus effects */
.app-header [role="tab"]:hover{ background: rgba(229,9,20,0.06); color: #fff; }
.app-header [role="tab"]:focus-visible{ box-shadow: 0 6px 18px rgba(229,9,20,0.08); outline: none; border-radius:8px; }

/* Small visual lift for focused items in rows for keyboard users */
.row-scroll .movie-card:focus-visible{ transform: translateX(var(--card-shift, 0)) translateY(-4px) scale(1.01); box-shadow: 0 12px 30px rgba(229,9,20,0.08); }

.movie-poster{ width:100%; height:var(--poster-medium); display:block; object-fit:cover; background:#222 }
.movie-info{ padding:12px; flex:1; display:flex; flex-direction:column; justify-content:space-between }
.movie-title{ font-size:14px; font-weight:700; margin-bottom:6px; color:#fff }
.movie-info{ padding:12px }
.movie-title{ font-size:14px; font-weight:700; margin-bottom:6px; color:#fff }
.movie-meta{ font-size:12px; color:var(--muted); margin-bottom:8px }
.movie-overview{ font-size:13px; color:#c7c7c7; opacity:0.9 }

.card-actions{ display:flex; gap:8px; align-items:center; margin-top:10px }
.play-cta{ background:var(--accent); color:#fff; border-radius:6px; padding:0 12px; font-weight:600; font-size:13px; display:inline-flex; align-items:center; gap:8px; height:44px }
.play-cta .play-icon{ display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px }
.add-btn{ background:transparent; color:var(--muted); border:none; font-size:16px; padding:0 8px; height:44px; display:inline-flex; align-items:center }
.more-info-btn{
  background: rgba(255,255,255,0.06);
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 0 12px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  height: 44px;
}
.more-info-btn svg{ display:inline-block; flex:0 0 auto }
.more-info-btn span{ font-size:13px; font-weight:600 }
.more-info-btn:hover{ background: rgba(255,255,255,0.10) }
.now-badge{ background:var(--accent); color:#fff; padding:4px 6px; border-radius:4px; font-size:11px }

/* show overlay play icon on hover */
.movie-overlay{ position:relative }
.movie-overlay .play-overlay{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; opacity:0; transition:opacity 150ms ease }
.movie-card:hover .play-overlay{ opacity:1; background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.4)) }
/* Also show overlay when hovering the movie-overlay itself (covers items that aren't wrapped in .movie-card) */
.movie-overlay:hover .play-overlay{ opacity:1; background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.4)) }
.play-overlay{ cursor: pointer; z-index: 2 }
.play-circle{ background: var(--accent); border:2px solid var(--accent); width:56px; height:56px; border-radius:50%; display:flex; align-items:center; justify-content:center }
.play-triangle{ width:0; height:0; border-left:14px solid #fff; border-top:9px solid transparent; border-bottom:9px solid transparent; margin-left:4px }

/* responsive poster sizes */
@media (min-width: 900px){ .movie-poster{ height:var(--poster-large) } }
@media (min-width: 1200px){ .movie-poster{ height:var(--poster-large) } }

.row-scroll{ display:flex; gap:16px; overflow-x:auto; overflow-y:hidden; padding:6px 6px 6px 6px; align-items:flex-start }
.row-scroll .movie-item{ min-width:180px; max-width:var(--movie-card-width); flex:0 0 var(--movie-card-width); overflow: visible; position: relative; }
.row-scroll .movie-item .movie-card{ width:100%; }
.row-scroll .movie-poster{ height:240px }
.row-scroll .movie-info{ padding:10px }

/* Rank number displayed behind poster for Top 10 rows */
.row-scroll .movie-item .rank-back{
  position: absolute;
  right: 0; /* align the number to the right side of the item so it sits behind the poster */
  left: auto;
  /* make the badge match the poster height and center it vertically */
  height: var(--poster-medium);
  top: 50%;
  /* position the rank to the left of the poster; negative offset moves it outward */
  transform: translateX(calc(var(--poster-medium) * -0.2)) translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  pointer-events: none;
  font-weight: 900;
  z-index: 9999;
  -webkit-font-smoothing: antialiased;
  /* make the glyph transparent but outlined with a slightly lighter stroke; add dense text-shadow as fallback */
  color: transparent;
  -webkit-text-fill-color: transparent;
  /* slightly lighter stroke for better contrast */
  -webkit-text-stroke: 1px #ff0000;
  /* dense multi-directional text-shadow fallback/outlines for non-webkit engines and extra contrast */
  text-shadow:
    -2px -2px 0 #2b2b2b,
    2px -2px 0 #2b2b2b,
    -2px 2px 0 #2b2b2b,
    2px 2px 0 #2b2b2b,
    -2px 0 0 #2b2b2b,
    2px 0 0 #2b2b2b,
    0 -2px 0 #2b2b2b,
    0 2px 0 #2b2b2b,
    /* subtle light inner highlight to separate from very dark posters */
    0 0 2px rgba(255, 255, 255, 0.726);
  /* Size the number to match the poster height exactly */
  font-size: calc(var(--poster-medium));
  line-height: 1;
  padding-right: 8px;
}
/* Ensure poster and overlay sit above the rank number */
.row-scroll .movie-item .movie-overlay{ position: relative; z-index: 1 }

/* ensure the card sits below the rank so the outlined number is visible */
.row-scroll .movie-item .movie-card{ position: relative; z-index: 1 }

  .row-scroll .movie-item.small .rank-back{ font-size: calc(var(--poster-medium) * 0.5); height: calc(var(--poster-medium) * 0.5); top: 50%; transform: translateX(calc(var(--poster-medium) * -0.1)) translateY(-50%); }

@media (max-width: 800px){
  .row-scroll .movie-item .rank-back{ font-size: calc(var(--poster-medium) * 0.5); height: calc(var(--poster-medium) * 0.5); transform: translateX(calc(var(--poster-medium) * -0.1)) translateY(-50%); top:50%; }
}

@media (min-width: 900px){
  .row-scroll .movie-item .rank-back{ font-size: calc(var(--poster-large) * 0.5); height: var(--poster-large); transform: translateX(calc(var(--poster-large) * -0.2)) translateY(-50%); top:50%; }
  .row-scroll .movie-item.small .rank-back{ font-size: calc(var(--poster-large) * 0.5); height: calc(var(--poster-large) * 0.5); transform: translateX(calc(var(--poster-large) * -0.1)) translateY(-50%); top:50%; }
}

/* smaller card variant used in compact grids/rows */
.movie-card.small{ min-width:150px; max-width:150px; margin-right:10px }

/* Search / grid results sizing */
.movie-grid .movie-card{ min-width:140px }
.movie-grid .movie-poster{ height:var(--poster-medium) }

/* small screen tweaks */
@media (max-width: 480px){ .app-shell{ padding:12px } .movie-grid{ gap:10px } }

/* Detail view */
.detail-hero{ display:flex; gap:18px; align-items:flex-start; margin-bottom:18px; position:relative; overflow:hidden }
.detail-trailer{ position:absolute; inset:0; z-index:0; overflow:hidden; display:block }
.detail-trailer iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; object-fit:cover; pointer-events:none; filter: brightness(0.6) saturate(0.95) }
.detail-poster{ position:relative; z-index:2 }
.detail-info{ position:relative; z-index:2 }
.detail-poster{ width:260px; border-radius:8px; object-fit:cover }
.detail-info{ flex:1 }
.detail-title{ font-size:24px; font-weight:800; margin-bottom:8px }
.detail-meta{ color:var(--muted); margin-bottom:12px }
.detail-overview{ color:#d7d7d7; line-height:1.4 }

/* Prevent horizontal overflow from hero details (cast row) */
.app-shell{ overflow-x: hidden; }
.detail-info{ max-width: calc(100% - 300px); }

.cast-row{ display:flex; gap:12px; overflow-x:auto; align-items:center; padding-bottom:6px }
.cast-item{ background:transparent; border:none; cursor:pointer; width:100px; min-width:100px; display:flex; flex-direction:column; align-items:center; text-align:center }
.cast-item img{ width:88px; height:88px; object-fit:cover; border-radius:50% }
.cast-name{ font-size:12px; margin-top:8px; font-weight:600; line-height:1.1 }
.cast-role{ font-size:11px; color:var(--muted) }

@media (max-width: 900px){
  .detail-hero{ flex-direction:column }
  .detail-info{ max-width: 100% }
  .detail-poster{ width:100%; max-width:320px }
}

/* Positioning for top navigation handled by .app-header above; keep consistent tab sizing below */

/* focused row for keyboard navigation */
.focused-row{ outline: 2px solid rgba(229,9,20,0.15); box-shadow: 0 8px 30px rgba(229,9,20,0.08); transform: translateY(-4px) }
/* include horizontal shift when item is focused */
.focused-row{ transform: translateX(var(--card-shift, 0)) translateY(-4px) }

/* carousel / row peek animation */
.row-container{ margin-bottom:28px }
.row-title{ font-size:24px; font-weight:700; margin:6px 8px }
.row-scroll{ display:flex; gap:12px; overflow:auto; padding-bottom:6px }

/* Increase gap only for Top 10 rows so ranks have room */
.row-container.top10 .row-scroll{ gap: calc(var(--movie-card-width) * 0.7); }

/* Slightly reduce the gap on smaller screens so layout remains usable */
@media (max-width: 900px){
  .row-container.top10 .row-scroll{ gap: calc(var(--movie-card-width) * 0.8); }
}

/* Remove vertical scrollbar for Top10 row and align items to avoid accidental vertical overflow */
.row-container.top10 .row-scroll{
  overflow-x: auto;
  overflow-y: hidden; /* explicitly hide vertical scrolling */
  align-items: flex-start; /* ensure items align to top and don't stretch */
}

/* hide native scrollbars for Top10 rows */
.row-container.top10 .row-scroll{
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
}
.row-container.top10 .row-scroll::-webkit-scrollbar{ display:none; }

/* Hide native scrollbars for Continue Watching carousel (we use the SVG pager) */
.continue-scroll{
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
  overflow-y: hidden; /* avoid vertical scrollbar */
  align-items: flex-start;
}

/* Details modal responsive styles */
.details-modal-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  z-index: 120000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}
.details-modal-container{
  position: relative;
  width: clamp(320px, 86vw, 1200px);
  max-width: 1200px;
  height: clamp(420px, 86vh, 960px);
  max-height: 96vh;
  background: var(--surface-card, var(--card));
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  overflow: auto;
}
.details-modal-inner{ padding: 18px; }

/* Make hero scale on narrow screens and keep action buttons accessible */
.details-modal-container .hero-banner{ background-size: cover; background-position: center; }
.details-modal-container .hero-banner { min-height: 54vh; max-height: 72vh; }
.details-modal-container .hero-trailer iframe{ width:100%; height:100%; }
/* Increase player size inside the details modal: upscale by ~20% from center */
.details-modal-container .hero-trailer iframe{
  transform-origin: center center;
}
.details-modal-container .hero-banner.playing .hero-trailer iframe{
  transform: scale(1.5);
}
/* Remove play overlay in details modal to avoid duplicate controls and clicks */
.details-modal-container .play-overlay{ display: none !important; pointer-events: none !important; }

/* Position hero content in modal similar to the full-bleed homepage hero so the
   logo and overview sit toward the lower-left and can be translated visually. */
.details-modal-container .hero-content{
  position: absolute;
  left: 4%;
  bottom: 12%;
  padding: 24px 24px 36px 24px;
  max-width: 720px;
  z-index: 120010; /* ensure hero content (logo/overview) sits above action buttons */
  text-align: left;
  box-sizing: border-box;
}

/* Place action buttons below the overview and keep them flowing inside hero-content
   so they remain visually stationary when .hero-main transforms. */
.details-modal-container .hero-actions{
  position: relative; /* flow under .hero-main within .hero-content */
  display:flex;
  gap:12px;
  align-items:flex-start;
  z-index:120012; /* ensure actions sit above the logo to avoid overlap */
  left: auto;
  bottom: auto;
  margin-top: 50px; /* spacing between overview and actions (increased) */
}
/* Modal-specific override: prevent global hero animations from moving the actions
  Ensure only the .hero-main container moves inside the modal, keeping actions fixed. */
.details-modal-container .hero-actions{ transform: none !important; transition: none !important; }
.details-modal-container .hero-actions[style]{ /* if position set inline, still ensure it doesn't get transformed */ transform: none !important; }

/* When certification and mute are rendered inside the hero-actions (modal),
   render them inline rather than using their global absolute positioning. */
.details-modal-container .hero-actions .hero-certification{
  position: static;
  right: auto;
  bottom: auto;
  z-index: auto;
  background: rgba(255,255,255,0.06);
  color: #fff;
  padding: 6px 8px;
  border-radius: 6px;
  font-weight: 700;
  font-size: 12px;
  border: none;
  box-shadow: none;
  height: auto;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-left: 8px;
}
.details-modal-container .hero-actions .hero-mute-inline{
  background: rgba(0,0,0,0.44);
  width: 44px;
  height: 44px;
  border-radius: 999px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255,255,255,0.04);
  color: #fff;
  cursor: pointer;
  transition: background 160ms ease, transform 120ms ease;
}
.details-modal-container .hero-actions .hero-mute-inline:hover{ background: rgba(255,255,255,0.06); transform: scale(1.03); }

/* Make all action controls in modal uniform size and alignment */
.details-modal-container .hero-actions{
  display: flex;
  gap: 12px;
  align-items: center;
}
.details-modal-container .hero-actions > .play-cta,
.details-modal-container .hero-actions > .more-info-btn,
.details-modal-container .hero-actions > .hero-certification{
  height: 44px;
  min-width: 120px;
  padding: 0 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  font-weight: 600;
  font-size: 13px;
  box-sizing: border-box;
}
.details-modal-container .hero-actions > .play-cta .play-icon{ width: 18px; height: 18px; }
.details-modal-container .hero-actions > .hero-certification{ min-width: auto; padding: 0 10px; }
.details-modal-container .hero-actions > .more-info-btn{ background: rgba(255,255,255,0.06); }

/* Keep the mute button circular and smaller */
.details-modal-container .hero-actions > .hero-mute-inline{
  min-width: 44px; width:44px; height:44px; padding:0; border-radius:999px;
}

/* Modal-specific overview/ logo behavior:
  - when the overview collapses, translate it downward so the logo is pulled down toward the action buttons
  - allow the .hero-main translate to move the logo; don't override .hero-logo transform here */
.details-modal-container .hero-overview.expanded{ transform: translateY(0) !important; opacity: 1 !important; }
.details-modal-container .hero-overview.collapsed{ transform: translateY(6px) !important; opacity: 0 !important; max-height: 0 !important; }
.details-modal-container .hero-overview{
  font-size: 13px;
  line-height: 1.35;
  max-height: 72px;
}
.details-modal-container .hero-main{ transition: transform .35s ease !important; }
@media (max-width: 600px){
  .details-modal-container{ width: calc(100vw - 28px); height: calc(100vh - 28px); padding:0; }
  .details-modal-container .hero-main{ transform-origin: center top; }
  .details-modal-container .hero-actions{ left: 12px; bottom: 12px; }
  .details-modal-container .hero-main img.hero-logo{ max-width: 160px; height: auto; }
  .details-modal-container .hero-content{ left: 3%; bottom: 8vh; padding: 12px 16px; max-width: calc(100% - 64px); }
}

@media (max-width: 420px){
  .details-modal-container .hero-actions{ left: 8px; bottom: 8px; gap:8px; }
  .details-modal-container .hero-main img.hero-logo{ max-width: 120px; }
}
.details-modal-container .hero-main img.hero-logo{ position: relative; z-index: 120011; }

/* Modal-specific logo sizing: slightly smaller than homepage hero and responsive */
.details-modal-container .hero-main img.hero-logo{
  max-width: clamp(120px, 22vw, 220px);
  width: auto;
  height: auto;
  display: block;
}
.continue-scroll::-webkit-scrollbar{ display: none; }

/* Page indicator (top-right) for rows that show pager */
.row-page-indicator{
  position: absolute;
  right: 12px;
  top: -8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  color: var(--muted);
  z-index: 2200;
  pointer-events: none;
}
.row-page-indicator .page-count{ font-size:12px; color:var(--muted); }
.row-page-indicator .dots{ display:flex; gap:4px; }
.row-page-indicator .dot{ width:8px; height:8px; border-radius:999px; background: rgba(255,255,255,0.12); opacity:0.65; transition: transform 120ms ease, background 120ms ease, opacity 120ms ease; }
.row-page-indicator .dot.active{ background: rgba(255,255,255,0.88); opacity:1; transform: translateY(-1px); }

/* Inline page indicator placed opposite the row title */
.row-page-indicator-inline{ display:flex; align-items:center; gap:4px }
.row-page-indicator-inline .bar-list{ display:flex; gap:1px; align-items:center }
.row-page-indicator-inline .bar{ color: rgba(255,255,255,0.12); opacity: 0.65; transition: color 160ms ease, opacity 160ms ease, transform 120ms ease; height: 4px; width: 28px; }
.row-page-indicator-inline .bar svg, .row-page-indicator-inline .bar > svg { height: 4px; width: 28px; }
.row-page-indicator-inline .bar.active{ color: rgba(255,255,255,0.88); opacity: 1; transform: translateY(-1px); }
.row-page-indicator-inline .bar:not(.active){ filter: none; }

/* ensure the scroller wrapper doesn't hide the pager */
.row-scroll-wrapper .row-page-indicator{ display: block }

/* Shift the card right inside the movie-item so the rank number remains visible with ~15% overlap */
.row-container.top10 .movie-item .movie-card{ --card-shift: calc(var(--movie-card-width) * 0.55); }
/* Top10: show posters only — hide titles/info and remove extra card footer height */
.row-container.top10 {
  --card-extra-height: 0; /* posters only — no extra info/footer space */
}

/* Make Top10 posters and card width slightly smaller so 5 items per page are comfortably visible */
.row-container.top10{
  --movie-card-width: 160px; /* reduce card width for Top10 rows */
}
/* compute poster height from card width to preserve aspect ratio (approx 2:3 -> height = width * 1.5) */
.row-container.top10{ --top10-poster-height: calc(var(--movie-card-width) * 1.5); }
.row-container.top10 .movie-poster{ height: var(--top10-poster-height); }

/* adjust rank sizing to match the computed poster height and card width */
.row-container.top10 .movie-item .rank-back{
  height: var(--top10-poster-height);
  font-size: calc(var(--top10-poster-height) * 0.5);
  /* position the rank near the upper-left of the poster */
  top: -25px;
  transform: translateX(calc(var(--movie-card-width) * -0.30)) translateY(0);
  align-items: flex-start;
  padding-right: 20px;
}
.row-container.top10 .movie-info{ display: none !important; }
.row-container.top10 .movie-title{ display: none !important; }

/* Disable left-right movement and scaling on hover for Top10 cards */
.row-container.top10 .movie-card,
.row-container.top10 .movie-card:hover,
.row-container.top10 .movie-card:focus,
.row-container.top10 .movie-card:focus-visible {
  /* Keep the horizontal shift constant but remove translateY/scale to avoid lateral movement */
  transform: translateX(var(--card-shift, 0));
  transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
}

/* Mini modal overlay shown on hover for Top10 items (similar to ContinueWatching) */
.row-container.top10 .movie-item{ position: relative; }
.row-container.top10 .top10-mini{
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(8px);
  bottom: 8px;
  display: flex;
  gap: 8px;
  background: rgba(0,0,0,0.6);
  padding: 6px 8px;
  border-radius: 8px;
  align-items: center;
  opacity: 0;
  pointer-events: none;
  transition: opacity 140ms ease, transform 140ms ease;
  z-index: 30;
}
.row-container.top10 .movie-item:hover .top10-mini,
.row-container.top10 .movie-item:focus-within .top10-mini{
  opacity: 1;
  transform: translateX(-50%) translateY(0);
  pointer-events: auto;
}
.top10-mini .mini-play, .top10-mini .mini-info{
  background: transparent;
  color: #fff;
  border: 1px solid rgba(255,255,255,0.06);
  padding: 6px 8px;
  border-radius: 6px;
  cursor: pointer;
}

/* Top10 uses the preview modal — hide the inline play overlay to avoid duplicate controls */
.row-container.top10 .play-overlay { display: none !important; }
.row-scroll{ -ms-overflow-style: none; scrollbar-width: none; }
.row-scroll::-webkit-scrollbar{ display: none; }

/* ensure scroll is captured by the scroller under the pointer instead of bubbling to the page */
.row-scroll, .movie-grid, .detail-sections, .search-dropdown{ overscroll-behavior: contain; }

/* hero banner */
.hero-banner{ position:relative; height:64vh; min-height:460px; border-radius:10px; background-size:cover; background-position:center; margin-bottom:20px; overflow:hidden }
.hero-banner.full-bleed{
  /* when portal-mounted into #hero-root the hero is a top-level block and should sit in normal flow */
  position: relative;
  /* avoid using 100vw + translate which can cause horizontal overflow when scrollbars appear */
  left: 0;
  transform: none;
  width: 100%;
  /* include the header height so the hero extends up behind the navbar */
  height: calc(78vh + var(--header-height));
  min-height: calc(520px + var(--header-height));
  border-radius: 0;
  padding: 0;
  margin-bottom: 0;
  overflow: hidden;
  /* place the hero above the main app content but below the header */
  z-index: 0; /* keep hero behind header */
  background-position: center top; /* prefer top for full-bleed framing */
}

/* spacer element inserted after the hero to push the centered content below it */
.hero-spacer{
  /* Increase spacer so the taller hero pushes content further down. Use clamp so it scales but never becomes huge. */
  height: clamp(260px, calc(46vh + var(--header-height)), calc(520px + var(--header-height))); 
  min-height: 220px;
  background: transparent;
  pointer-events: none;
}

/* ensure hero content floats above app-shell children but remains below header */
.hero-banner.full-bleed .hero-content{ z-index: 6; }
.hero-overlay{ position:absolute; inset:0; pointer-events:none; background: linear-gradient(180deg, rgba(0,0,0,0.15) 10%, rgba(0,0,0,0.6) 60%); }
.hero-content{ padding:36px; max-width:720px; position:relative; z-index:1; pointer-events:auto }
.hero-trailer{ position:absolute; inset:0; z-index:-1; overflow:hidden; display:block }
.hero-trailer iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; pointer-events:none; object-fit:cover; opacity: 0; transform: scale(1.02); transform-origin: center center; transition: opacity 280ms ease, transform 280ms ease; }
/* Upscale the page hero player by ~50% when playing (home, movies, shows) */
.hero-banner.playing .hero-trailer iframe{ opacity: 1; transform: scale(1.5); }
@media (max-width: 900px){
  .hero-trailer iframe{ object-position: center top; }
}
.hero-trailer-fallback{ margin-top:8px; background: rgba(0,0,0,0.5); color: #fff; padding:6px 8px; border-radius:6px; font-size:13px; display:inline-block }
.hero-title{ font-size:32px; font-weight:800; margin:0 0 12px 0 }
/* Hero overview paragraph: ensure readable size and comfortable line-height */
.hero-overview{ color: #e6e6e6; max-height:72px; overflow:hidden; margin-bottom:16px; font-size:16px; line-height:1.45 }
.hero-actions{ display:flex; gap:12px; align-items:center; height:44px }

/* Center hero content for the full-bleed homepage hero and nudge it toward the lower-middle */
.hero-banner.full-bleed .hero-overlay{
  display:flex;
  align-items:center; /* vertical centering baseline */
  justify-content:center; /* horizontal centering */
  padding: 0 16px; /* keep a small safe padding for text on tiny screens */
  box-sizing: border-box;
  /* ensure overlay extends behind the sticky header and gives a stronger dark band
     so content placed in the lower-middle reads well against bright backdrops */
  padding-top: var(--header-height);
  background: linear-gradient(180deg, rgba(0,0,0,0.22) 0%, rgba(0,0,0,0.74) 78%);
}
.hero-banner.full-bleed .hero-content{
  /* left-aligned and lower-left placement */
  position: absolute;
  left: 2%;
  bottom: 20%;
  padding: 32px 24px;
  max-width: 720px;
  z-index:2;
  text-align:left;
  transform: translateY(0);
}
@media (max-width: 900px){
  .hero-banner.full-bleed .hero-overlay{ align-items:flex-end; }
  /* Keep hero content anchored to bottom-left on small screens as well. */
  .hero-banner.full-bleed .hero-content{
    position: absolute;
    left: 3%;
    bottom: 8vh;
    padding: 12px 16px;
    max-width: calc(100% - 64px);
    text-align: left;
    box-sizing: border-box;
  }
}

/* Logo styling (title logo image) */
.hero-logo{ max-width:320px; width:48%; height:auto; display:block; transition: transform 420ms cubic-bezier(.2,.9,.2,1), opacity 300ms ease; transform: translateY(-30%); }
.hero-logo.logo-lower{ transform: translateY(-10%); }

/* Overview expand/collapse animations */
.hero-overview{ color: #e6e6e6; overflow:hidden; transition: max-height 360ms ease, opacity 360ms ease, transform 360ms ease; max-height:120px; transform: translateY(0); opacity:1; font-size:16px; line-height:1.45 }
.hero-overview.collapsed{ max-height:0; opacity:0; transform: translateY(-6px); }
.hero-overview.expanded{ max-height:420px; opacity:1; transform: translateY(0); }

/* When trailer is playing, ensure content has compact layout */
.hero-banner.full-bleed.playing .hero-overview.collapsed{ max-height:0; opacity:0; transform: translateY(-6px); }
.hero-banner.full-bleed.playing .hero-logo{ transform: translateY(-10%); }

/* Ensure action buttons remain visible above logo and move down when logo shifts */
.hero-actions{ position: relative; z-index: 10; transition: transform 420ms cubic-bezier(.2,.9,.2,1); }
.hero-banner.full-bleed.playing .hero-actions{ transform: translateY(10%); }

/* Continue Watching feed styles */
.continue-row{ margin: 12px 0 0; padding: 0 4px; z-index: 2000; position: relative; overflow: visible; }
.continue-title{ font-size:24px; font-weight:700; margin:6px 8px; color:#fff; }
.continue-scroll-wrapper{ position: relative; }
.continue-scroll{ display:flex; gap:12px; overflow-x:auto; overflow-y:visible; padding:8px 8px 0; align-items:flex-start; height: auto !important; max-height: none !important; /* ensure row shrinks to content */ }
.continue-scroll > * { align-self: flex-start; }

/* Enable snap pagination for Continue Watching row (non-wrapping) */
.continue-scroll {
  /* Snap to item start so items align with the scroll-button edges */
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  /* keep the snapped item offset from the viewport edge by the overlay button width */
  scroll-padding-inline-start: var(--scroller-button-width);
  scroll-padding-inline-end: var(--scroller-button-width);
  /* add padding so the first/last items don't sit under the overlay buttons */
  padding-left: calc(8px + var(--scroller-button-width));
  padding-right: calc(8px + var(--scroller-button-width));
}
.continue-scroll > * {
  scroll-snap-align: start;
  scroll-snap-stop: always;
}

/* Scroll control buttons overlayed on the row */
.continue-scroll-button{
  position: absolute;
  top: 0;
  bottom: 0;
  /* Increase default width so the overlay extends farther toward the viewport edge */
  width: 96px;
  border-radius: 0; /* no rounding on edges */
  display:flex;
  align-items:center;
  justify-content:center;
  /* Semi-transparent solid background (no blur) to keep the UI crisp */
  background: rgba(0,0,0,0.45);
  color: #fff;
  border: none;
  z-index: 2200;
  cursor: pointer;
  transition: transform 160ms ease, background 160ms ease, opacity 160ms ease;
  padding: 0 6px;
  overflow: hidden;
}
.continue-scroll-button svg{ display:block; width:32px; height:32px }
.continue-scroll-button.left{ left: 0; border-radius: 0; background: rgba(0,0,0,0.45); }
.continue-scroll-button.right{ right: 0; border-radius: 0; background: rgba(0,0,0,0.45); }
.continue-scroll-button:hover{ transform: scale(1.02); }
.continue-scroll-button:active{ transform: scale(0.98); }
.continue-scroll-button[disabled]{ opacity:0.18; pointer-events:none }

@media (max-width: 900px) {
  /* On smaller screens keep overlays reasonably sized but still flush to edge */
  .continue-scroll-button{ width:64px }
  /* smaller button width for snapping on narrow viewports */
  :root { --scroller-button-width: 64px; }
  .hero-overview{ font-size:14px; line-height:1.4 }
  .hero-title{ font-size:28px }
  .continue-scroll-button svg{ width:24px; height:24px }
}

@media (min-width: 1400px) {
  /* On very wide viewports, extend overlays further so they visually reach the viewport edge */
  .continue-scroll-button{ width:140px }
  /* wider overlay button on very wide screens — update snapping offset accordingly */
  :root { --scroller-button-width: 140px; }
}

/* Show scroll buttons by default; only hide when disabled (no scroll available). */
.continue-scroll-wrapper .continue-scroll-button{ opacity:1; visibility:visible; transform: none; transition: transform 160ms ease, opacity 160ms ease; }
.continue-scroll-wrapper:focus-within .continue-scroll-button,
.continue-scroll-wrapper:hover .continue-scroll-button{ opacity:1; visibility:visible; }

/* Same behavior for generic row scrollers */
.row-scroll-wrapper .continue-scroll-button{ opacity:1; visibility:visible; transform: none; transition: transform 160ms ease, opacity 160ms ease; }
.row-scroll-wrapper:focus-within .continue-scroll-button,
.row-scroll-wrapper:hover .continue-scroll-button{ opacity:1; visibility:visible; }

/* Keep scroll buttons stationary by default; subtle scale on hover for affordance */
.continue-scroll-button.left{ transform: none; }
.continue-scroll-wrapper:hover .continue-scroll-button.left,
.continue-scroll-wrapper:focus-within .continue-scroll-button.left{ transform: scale(1.02); }
.continue-scroll-button.right{ transform: none; }
.continue-scroll-wrapper:hover .continue-scroll-button.right,
.continue-scroll-wrapper:focus-within .continue-scroll-button.right{ transform: scale(1.02); }

/* Fully hide when disabled (no layout/runtime presence) */
.continue-scroll-button.disabled, .continue-scroll-button[disabled]{ display: none !important; }
.continue-scroll { height: fit-content !important; }
.continue-card{ width: 232.962px; flex: 0 0 232.962px; height: 131.163px; border-radius:8px; overflow:visible; cursor:pointer; position:relative; display:flex; flex-direction:column; align-items:stretch; transition: transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 220ms cubic-bezier(.2,.9,.2,1), border-color 180ms ease; border: 1px solid rgba(255,255,255,0.03); }
.continue-card:hover, .continue-card:focus { transform: translateY(-6px) scale(1.02); box-shadow: 0 18px 40px rgba(229,9,20,0.12); border-color: rgba(229,9,20,0.18); }
.continue-card:focus-visible{ outline: none; box-shadow: 0 20px 50px rgba(229,9,20,0.18), 0 6px 18px rgba(0,0,0,0.6); border-color: rgba(229,9,20,0.28); }
.continue-card.hovered{ transform: translateY(-18px) scale(1.12); box-shadow: 0 40px 90px rgba(229,9,20,0.20); z-index: 120; }
.continue-backdrop{ width:100%; height:100%; background-size: cover; background-position: center center; position:relative; transition: transform 260ms ease, background-size 260ms ease; overflow:hidden; }
.continue-backdrop.placeholder{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.2)); height:100%; }
.continue-logo{ position: absolute; left: 12px; bottom: 8px; width: auto; max-width: 60%; max-height: 48px; display:block; filter: drop-shadow(0 6px 18px rgba(0,0,0,0.6)); object-fit:contain; }
.continue-logo-text{ position: absolute; left: 12px; bottom: 10px; margin:0; padding:0; font-weight:700; font-size:12px; color:#fff; text-shadow: 0 4px 12px rgba(0,0,0,0.6); }

/* Explore button next to row titles: hidden by default, fades and slides in on hover/focus */
.row-explore-btn{
  background: transparent;
  border: none;
  color: #54B9C5;
  font-weight: 700;
  cursor: pointer;
  opacity: 0;
  transform: translateX(8px);
  transition: opacity 200ms cubic-bezier(.2,.9,.2,1), transform 200ms cubic-bezier(.2,.9,.2,1);
  pointer-events: none;
  padding: 0;
  font-size: 13px;
}
.row-container:hover .row-explore-btn,
.row-container:focus-within .row-explore-btn{
  opacity: 1;
  transform: translateX(0);
  pointer-events: auto;
}

/* ensure cards don't inadvertently add bottom margin */
.continue-card{ margin-bottom: 0; }

/* In-card trailer overlay for hover previews */
.continue-trailer-overlay{ position:absolute; inset:0; z-index:60; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.65)); opacity:0; transition: opacity 240ms ease, transform 240ms ease; pointer-events:none; border-radius:8px; overflow:hidden; }
.continue-trailer-overlay.show{ opacity:1; }
.continue-trailer-overlay iframe{ width:100%; height:100%; border:0; object-fit:cover; transform: scale(1); transition: transform 280ms ease; }
.continue-card.hovered .continue-backdrop{ transform: scale(1.06); }
.continue-card.hovered .continue-trailer-overlay iframe{ transform: scale(1.04); }

/* When a card expands, slightly increase spacing so it doesn't collide */
.continue-scroll { gap: 16px; }

/* Larger hover expansion on wide screens: increase flex-basis more */
@media (min-width: 1200px) {
  .continue-card{ width: 232.962px; flex: 0 0 232.962px; height: 131.163px; }
  
}

@media (max-width: 900px){
  .continue-card{ width: 232.962px; flex: 0 0 232.962px; height: 131.163px; }
  .continue-backdrop{ height: 100%; }
  .continue-card.hovered{ transform: translateY(-10px) scale(1.08); z-index: 80; }
}


/* Focus lift for keyboard users inside continue rows */
.continue-scroll .continue-card:focus-visible{ transform: translateY(-4px) scale(1.01); box-shadow: 0 12px 30px rgba(229,9,20,0.08); }

/* Detail hero adjustments for backdrop, autoplay trailer and full-bleed layout */
/* Make the detail hero break out of the centered content container and use the full viewport width, starting from the top */
.detail-hero{
  display:block;
  /* full-bleed: expand to viewport width, positioned at the very top */
  position: absolute;
  top: -24px; /* account for app-shell padding-top */
  /* avoid 100vw + centering transform which can overflow; use full width anchored at left */
  left: 0;
  transform: none;
  width: 100%;
  height: 65vh;
  border-radius: 0; /* full-bleed generally looks better without rounded container corners */
  padding: 0; /* keep the hero edge-to-edge; internal hero-content will provide spacing */
  margin-bottom: 0;
  overflow: hidden;
  z-index: 0;
}
.detail-sections {
  /* remove large top margin so detail sections sit immediately below the hero */
  margin-top: 0;
}
@media (min-width: 1440px) {
  .detail-hero {
    height: 75vh;
  }
  /* ensure no margin-top is added for wide screens */
  .detail-sections {
    margin-top: 0;
  }
}
/* place a solid dark overlay absolutely so content can be positioned over the backdrop */
.detail-hero .hero-overlay{ position:absolute; inset:0; z-index:3; pointer-events:none; background: rgba(0,0,0,0.6); }
/* position hero-content at the lower-left of the hero and give it generous padding for wide layout */
.detail-hero .hero-content{
  position:absolute;
  bottom:14%;
  left:10%;
  z-index:4;
  pointer-events:auto;
  padding:32px 32px 0 32px;
  max-width:980px; /* allow wider content area on large screens */
}
@media (min-width: 1600px) {
  .detail-hero .hero-content {
    left: 15%;
  }
}
@media (max-width: 900px){
  /* Ensure detail hero content is bottom-left on small screens */
  .detail-hero .hero-content{
    position: absolute;
    left: 4%;
    bottom: 8vh;
    padding: 16px;
    max-width: calc(100% - 64px);
    box-sizing: border-box;
  }
}
.detail-trailer{ z-index:0 }
.detail-trailer iframe{ pointer-events: none }
.detail-logo{ max-height:64px }

/* Mute button for trailer control */
.mute-btn{
  background: transparent;
  color: #fff;
  border: none;
  border-radius: 6px;
  width: 40px;
  height: 40px;
  font-size: 18px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s ease;
}
.mute-btn:hover{ background: rgba(255,255,255,0.06); }

/* Right-side hero mute button (separate from hero-content) */
.hero-mute-right{
  position: absolute;
  /* shift the mute button inward so the certification pill can sit at the viewport edge */
  right: calc(var(--app-edge-offset, 2%) + 24px);
  /* anchor to the hero-content bottom so it sits opposite the hero-actions row */
  bottom: calc(20% + 20px);
  z-index: 12;
  width: 44px;
  height: 44px;
  border-radius: 999px;
  background: rgba(0,0,0,0.44);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255,255,255,0.04);
  color: #fff;
  cursor: pointer;
  transition: background 160ms ease, transform 120ms ease;
}
.hero-mute-right:hover{ background: rgba(255,255,255,0.06); transform: scale(1.03); }
@media (max-width: 900px){ .hero-mute-right{ right: 12px; bottom: calc(var(--header-height) + 8px); } }

/* Certification pill positioned beside the mute button */
.hero-certification{
  position: absolute;
  /* place at the viewport edge to the right of the mute button */
  /* align to app edge offset; change --app-edge-offset to adjust */
  right: var(--app-edge-offset, 2%);
  bottom: calc(20% + 20px);
  z-index: 13;
  background: rgba(0,0,0,0.56);
  color: #fff;
  padding: 0 12px;
  border-radius: 6px;
  font-weight: 700;
  font-size: 12px;
  border: 1px solid rgba(255,255,255,0.04);
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
@media (max-width: 900px){ .hero-certification{ right: 12px; bottom: calc(var(--header-height) + 8px + 48px); } }

/* Netflix-themed interactive elements: buttons, dropdowns, inputs, and filter pills */
.button, .btn { display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:6px; background:rgba(255,255,255,0.04); color:#fff; border:1px solid rgba(255,255,255,0.04); cursor:pointer; transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease; }
.button.primary, .btn-primary, .play-cta{ background:var(--accent); color:#fff; border-color: rgba(229,9,20,0.2); box-shadow: 0 6px 18px rgba(229,9,20,0.08); }
.button.primary:hover, .btn-primary:hover{ transform: translateY(-3px); box-shadow: 0 12px 30px rgba(229,9,20,0.12); filter:brightness(1.02); }
.button.ghost{ background:transparent; border:1px solid rgba(255,255,255,0.06); color:#fff; }
.button:focus-visible{ outline: none; box-shadow: 0 6px 18px rgba(229,9,20,0.12), 0 0 0 3px rgba(229,9,20,0.06); border-color: rgba(229,9,20,0.2); }

/* Global button hover/active/focus styles */
button, .button, .btn, .menu-link, .profile-btn, .hamburger, .dropdown-toggle { transition: transform 120ms ease, box-shadow 120ms ease, background 120ms ease, color 120ms ease; }
button:hover, .button:hover, .btn:hover, .menu-link:hover, .profile-btn:hover, .hamburger:hover, .dropdown-toggle:hover { transform: translateY(-2px); box-shadow: 0 10px 28px rgba(0,0,0,0.5); background: rgba(255,255,255,0.04); color: #fff; }
button:active, .button:active, .btn:active, .menu-link:active, .profile-btn:active, .hamburger:active { transform: translateY(0); box-shadow: 0 6px 18px rgba(0,0,0,0.45); }
.menu-link{ text-decoration:none; }
.menu-link:hover{ background: rgba(255,255,255,0.02); }
.profile-btn:hover, .hamburger:hover{ color: #fff }

/* Dropdown item hover: subtle lift and stronger accent */
.dropdown-item{ transition: background 120ms ease, transform 120ms ease, color 120ms ease; }
.dropdown-item:hover{ background: rgba(229,9,20,0.08); color:#fff; transform: translateX(6px); }
.dropdown-item:active{ transform: translateX(2px); }
.dropdown-item:focus-visible{ outline: none; box-shadow: 0 6px 18px rgba(229,9,20,0.08); }

/* Global selectable highlight: apply subtle lift, accent background and focus-visible outlines
   to interactive elements across the UI (buttons, links, cards, pills, dropdown items, cast items) */
:is(button, a, .menu-link, .profile-btn, .hamburger, .dropdown-toggle, .button, .btn, .filter-pill, .dropdown-item, .menu-link, .cast-item, .movie-card, .movie-card.small){
  transition: transform 140ms ease, box-shadow 140ms ease, background 140ms ease, color 140ms ease;
}

:is(button, a, .menu-link, .profile-btn, .hamburger, .dropdown-toggle, .button, .btn, .filter-pill, .dropdown-item, .cast-item, .movie-card):hover{
  background: rgba(229,9,20,0.06);
  color: #fff;
  transform: translateY(-3px);
  box-shadow: 0 14px 36px rgba(0,0,0,0.45);
}

:is(button, a, .menu-link, .profile-btn, .hamburger, .dropdown-toggle, .button, .btn, .filter-pill, .dropdown-item, .cast-item, .movie-card):active{
  transform: translateY(0);
  box-shadow: 0 6px 18px rgba(0,0,0,0.45);
}

:is(button, a, .menu-link, .profile-btn, .hamburger, .dropdown-toggle, .button, .btn, .filter-pill, .dropdown-item, .cast-item, .movie-card):focus-visible{
  outline: none;
  box-shadow: 0 8px 30px rgba(229,9,20,0.12), 0 2px 8px rgba(0,0,0,0.5);
  border-color: rgba(229,9,20,0.18);
}

/* Feed/tiles specific highlight (ensures internal card content doesn't get lost when hovered) */
.movie-card .movie-info, .movie-card.small .movie-info{ transition: color 140ms ease; }
.movie-card:hover .movie-title, .movie-card.small:hover .movie-title{ color:#fff }

/* Search input: Netflix red caret + blinking highlight when focused only */
@keyframes netflix-caret-pulse {
  0% { box-shadow: 0 0 0 0 rgba(229,9,20,0.10); }
  50% { box-shadow: 0 0 0 6px rgba(229,9,20,0.06); }
  100% { box-shadow: 0 0 0 0 rgba(229,9,20,0.00); }
}

.search-input{ caret-color: var(--accent); transition: box-shadow 180ms ease, border-color 120ms ease; }
.search-input:focus{
  outline: none;
  border-color: rgba(229,9,20,0.28);
  box-shadow: 0 6px 20px rgba(229,9,20,0.06);
  animation: netflix-caret-pulse 1.6s infinite ease-in-out;
}

/* Header inline search input (expands on click) */
.header-search-input{
  width: 0;
  min-width: 40px;
  padding: 6px 10px;
  border-radius: 6px;
  transition: width 200ms ease, opacity 160ms ease, margin 160ms ease;
  opacity: 0;
  border: none;
  background: transparent;
  color: #fff;
}
.header-search-input.open{
  width: 260px; /* slightly wider but not too wide */
  opacity: 1;
  margin-right: 8px;
  background: #000; /* black background as requested */
  border: 1px solid #fff; /* white border */
  color: #fff; /* white input text */
}
.header-search-input::placeholder{ color: rgba(255,255,255,0.9); }
.header-search-input:focus{ outline: none; box-shadow: none; }

/* If not focused, keep the caret default/invisible and no highlight */
.search-input:not(:focus){ animation: none; box-shadow: none; }

/* For accessibility: visible focus ring for keyboard users */
.search-input:focus-visible{ box-shadow: 0 6px 20px rgba(229,9,20,0.08), 0 0 0 3px rgba(229,9,20,0.04); }

/* Episode list (vertical) styles */
.episode-list{ display:flex; flex-direction:column; gap:10px }
.episode-item{ display:flex; gap:12px; align-items:flex-start; padding:10px; border-radius:8px; cursor:pointer; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.06)); border:1px solid rgba(255,255,255,0.02); }
.episode-item img{ width:220px; height:124px; object-fit:cover; border-radius:6px; flex:0 0 220px }
.episode-item .ep-info{ flex:1 }
.episode-item:hover{ transform: translateY(-4px); background: linear-gradient(180deg, rgba(229,9,20,0.03), rgba(0,0,0,0.06)); box-shadow: 0 14px 36px rgba(0,0,0,0.45); }
.episode-item:active{ transform: translateY(0) }
.episode-item .ep-info .overview{ color: var(--muted); margin-top:6px }

/* Player shell styles */
.player-shell{ width:100%; height:100%; display:flex; flex-direction:column; gap:12px; background: transparent }
.player-top{ display:flex; align-items:center; gap:12px; padding:12px 18px }
.player-top .player-title{ color:#fff; font-weight:800; font-size:18px }
.player-top .button.ghost{ background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff }
.player-content{ flex:1; display:flex; align-items:center; justify-content:center }
.player-content iframe{ width:100%; height:100%; border:0 }

/* Dropdowns & contextual menus */
.dropdown{ position:relative; }
.dropdown-toggle{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:6px; background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); color:#fff; cursor:pointer; }
.dropdown-menu{ background: linear-gradient(180deg, rgba(17,17,18,0.98), rgba(8,8,9,0.98)); border-radius:8px; box-shadow:0 12px 40px rgba(0,0,0,0.6); padding:6px; z-index:200000; border:1px solid rgba(255,255,255,0.03); box-sizing: border-box; max-width:420px; }
.dropdown-item{ padding:8px 10px; border-radius:6px; color:#e6e6e6; cursor:pointer; }
.dropdown-item:hover{ background: rgba(229,9,20,0.06); color:#fff; }

/* Ensure dropdown menu items show our dark theme even on native contexts */
.dropdown-menu .dropdown-item{ background: transparent; color: #e6e6e6 }
.dropdown-menu .dropdown-item[aria-selected="true"]{ background: rgba(255,255,255,0.03); box-shadow: inset 0 1px 0 rgba(255,255,255,0.02); }

/* item truncation and layout */
.dropdown-item{ white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* make portal-mounted dropdown-menu scrollable and sized well */
.dropdown-menu{ max-height: 44vh; overflow:auto; }
.dropdown-menu::-webkit-scrollbar{ width:20px; }
.dropdown-menu::-webkit-scrollbar-thumb{ background: linear-gradient(180deg, var(--accent), #b30a12); border-radius:8px; }

/* Filter pills used in search and genre filters */
.filter-pill{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background: rgba(255,255,255,0.03); color:#fff; border:1px solid rgba(255,255,255,0.03); cursor:pointer; }
.filter-pill.active{ background:var(--accent); color:#fff; box-shadow: 0 8px 30px rgba(229,9,20,0.06); transform: translateY(-2px); }

/* Inputs and search fields */
.input, input, .search-input{ background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); padding:8px 10px; border-radius:6px; color:#fff; }
.input:focus, input:focus, .search-input:focus{ outline:none; box-shadow: 0 6px 18px rgba(229,9,20,0.08); border-color: rgba(229,9,20,0.18); }

/* Reusable glass surface */
.surface-card{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.18)); border-radius:8px; border:1px solid rgba(255,255,255,0.03); }
/* Search control row helper */
.search-controls{ display:flex; gap:12px; align-items:center; margin-bottom:12px }

/* Native select styling to match inputs (remove native arrow and show custom one) */
select, .genre-select, select.input{
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.04);
  color: #fff;
  padding: 8px 36px 8px 10px;
  border-radius: 6px;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'><path fill='%23ffffff' fill-opacity='0.9' d='M6 8L0 0h12z'/></svg>");
  background-repeat: no-repeat;
  background-position: right 10px center;
}
select::-ms-expand{ display: none; }

/* Ensure selects shrink/grow similarly to inputs when inside flexible containers */
select.search-input, select.input{ min-width: 64px }
/* mobile bottom nav */
.bottom-nav{ display:none }
@media (max-width:640px){
  .hero-banner{ height:45vh }
  .movie-grid{ grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
  .bottom-nav{ display:flex; position:fixed; bottom:12px; left:12px; right:12px; background:rgba(0,0,0,0.5); border-radius:12px; justify-content:space-around; padding:8px 12px; z-index:999 }
  .bottom-nav button{ background:transparent; border:none; color:#fff }
}

/* predictive search dropdown */
.search-dropdown{ position:absolute; top:56px; right:24px; width:360px; max-height:420px; overflow:auto; background:linear-gradient(180deg, rgba(17,17,18,0.95), rgba(8,8,9,0.95)); border-radius:8px; box-shadow:0 8px 30px rgba(0,0,0,0.6); z-index:1100 }
.search-item{ display:flex; gap:8px; padding:8px; align-items:center; cursor:pointer; border-bottom:1px solid rgba(255,255,255,0.02) }
.search-item img{ width:48px; height:72px; object-fit:cover; border-radius:4px }
.search-item .meta{ color:#e6e6e6 }
.search-item .title{ font-weight:600 }
.search-item .subtitle{ font-size:12px; color:var(--muted) }
.search-item.active{ background:rgba(255,255,255,0.03) }

/* genre dropdown */
.genre-select{ background:transparent; color:#fff; border:1px solid rgba(255,255,255,0.06); padding:6px 8px; border-radius:6px }

/* ensure genre select fills container when used in mobile menu */
.genre-select{ width:100% }

/* profile and hamburger buttons in header */
.profile-btn, .hamburger{ background:transparent; border:none; color:var(--muted); cursor:pointer; padding:6px; border-radius:6px }
.search-btn { background: transparent; border: none; padding:6px; }

/* Remove visual borders and hover backgrounds specifically for header icon buttons */
.search-btn.button.ghost, .profile-btn.button.ghost {
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
}

.preview-modal-overlay{ pointer-events: auto; opacity: 0; transition: opacity 220ms cubic-bezier(.2,.9,.2,1); }
.preview-modal-overlay.show{ opacity: 1; }
/* overlay positioned via inline styles; the modal element is centered at overlay origin */
.preview-modal{
  background: rgba(0,0,0,0.96);
  position: absolute; left: 0; top: 0;
  transform: translate(-50%, -50%) scale(1);
  transform-origin: center center;
  width: var(--init-w,232.962px);
  height: var(--init-h,131.163px);
  border-radius:10px; overflow:hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  display:flex; flex-direction:column;
  transition: width 220ms cubic-bezier(.2,.9,.2,1), height 220ms cubic-bezier(.2,.9,.2,1), transform 220ms cubic-bezier(.2,.9,.2,1);
}
.preview-modal-overlay.show .preview-modal{ width: var(--target-w,420px); height: var(--target-h,320px); }

/* Force overlay above all app content (including transformed stacking contexts) */
.preview-modal-overlay{ z-index: 2147483647 !important; }
.preview-open .continue-row { overflow: visible !important; z-index: 10; }
.preview-open .continue-card { z-index: 5; }
.preview-backdrop{ flex:0 0 60%; background-size:cover; background-position:center; position:relative }
.preview-iframe{ position:absolute; inset:0; width:100%; height:100%; border:0 }
.preview-info{ flex:1 1 auto; padding:10px 12px; display:flex; flex-direction:column; justify-content:center; gap:6px; background: #181818; }
.preview-actions{ display:flex; gap:8px; align-items:center }
.preview-actions-left{ display:flex; gap:8px; align-items:center }
.preview-actions-right{ margin-left: auto; display:flex; gap:8px; align-items:center }
.preview-btn{ display:inline-flex; align-items:center; justify-content:center; gap:8px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.06); color:#fff; height:40px; min-width:44px; padding:0 12px; box-sizing:border-box; border-radius:6px; cursor:pointer; font-size:13px }
.preview-btn.play{ background:#fff; color:#000; font-weight:600 }
/* uniform icon/text sizing inside preview buttons */
.preview-btn svg{ width:18px; height:18px; display:block }
.preview-btn span{ display:inline-block; margin-left:6px; line-height:1 }
.preview-metadata{ display:flex; gap:8px; color:var(--muted); font-size:12px }
.preview-title{ color:#fff; font-weight:700; font-size:14px }

/* Disable visual transforms on the card itself — modal opens above the card instead */
.continue-row .continue-card:hover, .continue-row .continue-card:focus {
  transform: none !important;
  box-shadow: none !important;
}


.search-btn img, .profile-btn img, .search-btn svg {
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  display: block;
}
.search-btn:hover, .profile-btn:hover {
  background: transparent !important;
  box-shadow: none !important;
}
.search-btn:focus-visible, .profile-btn:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}
.hamburger{ font-size:20px; color:#fff }

/* mobile menu overlay surface */
.mobile-menu-overlay{ position:fixed; inset:0; background:rgba(0,0,0,0.85); z-index:60; display:flex; flex-direction:column; padding:20px; gap:12px }
.mobile-menu-overlay .close-btn{ background:transparent; border:none; color:#fff; font-size:20px }
.mobile-menu-overlay .menu-link{ padding:12px; font-size:18px; text-align:left; background:transparent; border:none; color:#fff; width:100%; }

/* hide the header-controls on small screens (moved into mobile menu) */
.header-controls{ display:flex; align-items:center; gap:8px }
@media (max-width: 767px){ .header-controls{ display:none !important } }

/* hide the top tab navigation on small screens (mobile menu will provide navigation) */
.app-header [role="tablist"]{ display:flex; }
@media (max-width: 767px){ .app-header [role="tablist"]{ display:none !important } }

/* Desktop nav alignment fixes */
@media (min-width: 768px) {
  /* Normalize tab sizes and alignment so every nav item is the same height */
  .app-header [role="tab"]{
    /* Inactive tab color: grayish/muted */
    color: var(--muted);
    font-size: 16px;
    font-weight: 600;
    /* top:10px, right/left:8px, bottom:0 */
    padding: 10px 8px 0 !important;
  }

  /* Specific override for the generated Chakra Tabs tablist in header
     (selector provided by user). Ensures the tab buttons have the requested
     top/bottom padding even if class names change order. */
  #header-root > header > div.chakra-tabs__tablist.css-1ev1cfq [role="tab"] {
    padding-top: 10px !important;
    padding-bottom: 0 !important;
  }
  /* Active tab indicator is the font color (white); remove background highlight */
  .app-header [role="tab"][aria-selected="true"]{ color: #fff; background: transparent; }
}

/* Custom scrollbars — consistent, Netflix-red accent */
*::-webkit-scrollbar{ width:20px; height:20px; }
*::-webkit-scrollbar-track{ background: var(--surface); }
*::-webkit-scrollbar-thumb{ background: linear-gradient(180deg, var(--accent), #b30a12); border-radius:999px; border:2px solid rgba(0,0,0,0.6); box-shadow: inset 0 0 0 1px rgba(255,255,255,0.03); }
*::-webkit-scrollbar-thumb:hover{ filter:brightness(0.95); }

/* Slightly smaller for horizontal row scrollers: hide native scrollbar (we use pager) */
.row-scroll::-webkit-scrollbar{ display: none; }
.row-scroll::-webkit-scrollbar-track{ display: none; }
.row-scroll::-webkit-scrollbar-thumb{ display: none; }

/* Search dropdown and other smaller panes */
.search-dropdown::-webkit-scrollbar{ width:16px; }
.search-dropdown::-webkit-scrollbar-track{ background: var(--surface); }
.search-dropdown::-webkit-scrollbar-thumb{ background: linear-gradient(180deg, var(--accent), #b30a12); border-radius:8px; }

/* Firefox support */
*{ scrollbar-width: thin; scrollbar-color: var(--accent) var(--surface); }

/* Make sure scrollbars don't clash with transparent tracks in dark UI */
::-webkit-scrollbar-corner{ background: transparent; }

/* Responsive breakpoints for specific screen widths */
@media (max-width: 1920px) {
  .app-shell {
    max-width: 1400px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  }
  .movie-poster {
    height: 280px;
  }
  .hero-banner {
    height: 50vh;
    min-height: 350px;
  }
}

@media (max-width: 1680px) {
  .app-shell {
    max-width: 1300px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  }
  .movie-poster {
    height: 260px;
  }
  .hero-banner {
    height: 48vh;
    min-height: 330px;
  }
  .detail-hero .hero-content {
    max-width: 900px;
  }
}

@media (max-width: 1600px) {
  .app-shell {
    max-width: 1200px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  }
  .movie-poster {
    height: 240px;
  }
  .hero-banner {
    height: 46vh;
    min-height: 310px;
  }
  .detail-hero .hero-content {
    max-width: 850px;
  }
}

@media (max-width: 1366px) {
  .app-shell {
    max-width: 1100px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
  }
  .movie-poster {
    height: 220px;
  }
  .hero-banner {
    height: 44vh;
    min-height: 290px;
  }
  .detail-hero .hero-content {
    max-width: 800px;
  }
  .brand .logo {
    font-size: 24px;
  }
}

@media (max-width: 1280px) {
  .app-shell {
    max-width: 1000px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  }
  .movie-poster {
    height: 200px;
  }
  .hero-banner {
    height: 42vh;
    min-height: 270px;
  }
  .detail-hero .hero-content {
    max-width: 750px;
  }
  .brand .logo {
    font-size: 22px;
  }
  .hero-title {
    font-size: 32px;
  }

}

@media (max-width: 1024px) {
  .app-shell {
    max-width: 900px;
    padding: 20px 24px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
  }
  .movie-poster {
    height: 180px;
  }
  .hero-banner {
    height: 40vh;
    min-height: 250px;
  }
  .detail-hero .hero-content {

/* (Full-width override moved to end of file) */

    max-width: 700px;
  }
  .brand .logo {
    font-size: 20px;
  }
  .hero-title {
    font-size: 32px;
  }
  .row-scroll .movie-card {
    min-width: 180px;
    max-width: 180px;
    flex: 0 0 180px;
  }
  .row-scroll .movie-poster {
    height: 240px;
  }
}

/* === Full-width override (global, after all media queries) === */
.app-shell{
  max-width: none !important;
  width: 100% !important;
  margin: 0 !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

.chakra-tabs, .chakra-tabpanels, .chakra-tabpanel, .app-shell > .app-shell-inner {
  max-width: none !important;
  width: 100% !important;
  padding: 0 !important;
}

.row-scroll{ padding-left: 6px !important; padding-right: 6px !important }

/* Universal scroller snapping: align item starts to the inner edge of the overlay scroll buttons.
   This makes the left/right scroll buttons behave as page edges and ensures focused
   items line up neatly beside the buttons. */
.row-scroll, .continue-scroll {
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  scroll-padding-inline-start: var(--scroller-button-width);
  scroll-padding-inline-end: var(--scroller-button-width);
  /* keep a small gutter plus the overlay button width so content doesn't sit under buttons */
  padding-left: calc(6px + var(--scroller-button-width)) !important;
  padding-right: calc(6px + var(--scroller-button-width)) !important;
}

.row-scroll > .movie-item, .row-scroll > * , .continue-scroll > * {
  scroll-snap-align: start;
  scroll-snap-stop: always;
}


@media (max-width: 800px) {
  .app-shell {
    max-width: 100%;
    padding: 16px 20px;
  }
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  }
  .movie-poster {
    height: 160px;
  }
  .hero-banner {
    height: 38vh;
    min-height: 230px;
  }
  .detail-hero .hero-content {
    max-width: 100%;
    padding: 16px;
  }
  .brand .logo {
    font-size: 18px;
  }
  .hero-title {
    font-size: 28px;
  }
  .row-scroll .movie-card {
    min-width: 160px;
    max-width: 160px;
    flex: 0 0 160px;
  }
  .row-scroll .movie-poster {
    height: 220px;
  }
  .movie-card.small {
    min-width: 120px;
    max-width: 120px;
  }
}





/* Player modal styles for new TV layout */
.player-modal-overlay{
  position: fixed;
  inset: 0;
  /* Stack the modal box and the selector vertically so the selector
     appears below the modal box instead of to the right. */
  display:flex;
  flex-direction: column;
  gap: 12px;
  align-items:center;
  justify-content:center;
  background: rgba(0,0,0,0.85);
  z-index: 100000;
}
.player-modal-box{
  position: relative;
  width: clamp(680px, 80vw, 1200px);
  height: clamp(380px, 70vh, 820px);
  background: var(--surface-card, var(--card));
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.6);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.player-modal-close{
  position: absolute;
  right: 12px;
  top: 12px;
  z-index: 20;
  background: rgba(255,255,255,0.06);
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}
.player-modal-content{
  display:flex;
  flex:1 1 auto;
  gap: 12px;
  padding: 12px;
  box-sizing: border-box;
}

/* Ensure the content flex container can shrink so children with overflow:auto
   compute a proper height inside the modal (fixes blocked inner scrolling) */
.player-modal-content { min-height: 0; }
.player-modal-left{
  flex: 1 1 65%;
  min-width: 360px;
  background: transparent;
  display:flex;
  align-items:stretch;
}
.player-modal-left > *{ width:100%; height:100%; }
.player-right-panel{
  flex: 0 0 32%;
  max-width: 420px;
  background: rgba(0,0,0,0.24);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  overflow: hidden; /* inner area will scroll */
  /* allow this flex item to shrink properly so children with overflow:auto
     can receive a computed height (fixes non-scrollable inner containers) */
  min-height: 0;
  /* ensure the panel stretches to the full height of the content row */
  height: 100%;
}
.player-right-panel > div { display:flex; flex-direction:column; height:100%; min-height: 0; }
.player-right-panel > div .episode-list-panel { flex: 1 1 auto; overflow:auto; min-height: 0; }
.episode-list-panel{ display:flex; flex-direction:column; gap:10px; padding:8px; overflow:auto; flex: 1 1 auto; }
.episode-item{ display:flex; gap:12px; align-items:flex-start; padding:10px; border-radius:8px; cursor:pointer; background: transparent; border: 1px solid rgba(255,255,255,0.02); }
.episode-item:hover{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); transform: translateY(-2px); }
.episode-item.active{ background: rgba(229,9,20,0.08); border-color: rgba(229,9,20,0.12); }
.episode-thumb{ width: 60px; height: 40px; object-fit: cover; border-radius: 6px; flex: 0 0 60px; }
.episode-thumb.placeholder{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06)); display:block; width:60px; height:40px; }

/* Stronger selector to override older .episode-item img rule that sets larger dimensions */
.player-right-panel .episode-thumb,
.player-right-panel .episode-thumb.placeholder {
  width: 60px !important;
  height: 40px !important;
  flex: 0 0 60px !important;
}
.episode-meta{ flex:1 1 auto; min-width: 0; }
.episode-title{ font-weight:700; color:#fff; margin-bottom:6px; }
.episode-overview{ color: var(--muted); font-size:13px; line-height:1.35 }

/* Centered player selector at bottom of modal */
.player-modal-selector{
  /* Keep selector in the normal document flow so it sits immediately
     below the player content. Using relative positioning and margin
     centers it while allowing the player content to size correctly. */
  position: relative;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:center;
  margin: 12px auto 0;
  z-index: 30;
  background: #181818;
  padding: 8px 12px;
  border-radius: 9px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
}

/* Movie-mode: make the embedded player fill the modal box */
.player-modal-box.movie-mode { padding: 0; }
.player-modal-box.movie-mode .player-modal-content { padding: 0; }
.player-modal-box.movie-mode .player-modal-left{ min-width: auto; height: 100%; align-items: stretch; }
.player-modal-box.movie-mode .video-aspect{ width:100%; height:100%; display:block; }
.player-modal-box.movie-mode .video-aspect .video-embed,
.player-modal-box.movie-mode .videoplayer-wrapper .video-embed{
  width:100%;
  height:100%;
  aspect-ratio: auto;
  max-height: none;
}
.player-modal-box.movie-mode webview.video-embed {
  width: 100% !important;
  height: 100% !important;
  aspect-ratio: unset !important;
  max-height: none !important;
}
/* Ensure the webview host uses flex layout so its internal shadow iframe can stretch */
.player-modal-box.movie-mode webview.video-embed,
.videoplayer-wrapper webview.video-embed,
webview.video-embed {
  display: flex !important;
  align-items: stretch !important;
  justify-content: stretch !important;
  min-height: 0 !important;
  min-width: 0 !important;
}

/* Ensure selector sits visually below the modal box when rendered outside it */
.player-modal-overlay > .player-modal-selector{ margin-top: 12px; }

/* Video aspect container and embed sizing to prevent clipping inside modal */
.videoplayer-wrapper{ width:100%; height:100%; display:flex; align-items:stretch; justify-content:stretch; }
.video-aspect{ width:100%; max-width:100%; display:flex; align-items:stretch; justify-content:stretch; height:100%; }
.video-aspect .video-embed,
.videoplayer-wrapper .video-embed{
  width:100%;
  height:100%;
  max-height:100%;
  aspect-ratio: 16/9;
  border:0;
  display:block;
}
.video-aspect .webview-badge{ position:absolute; top:8px; right:8px; z-index:5; background: rgba(0,0,0,0.45); color:#fff; padding:6px 10px; border-radius:6px; font-size:12px }

/* Season scroller chips */
.season-scroller{
  display:flex;
  gap:8px;
  overflow-x:auto;
  padding:6px calc(var(--season-chip-height) + 12px); /* leave room for scroll buttons */
  scroll-behavior: smooth;
  align-items:center;
}
.season-scroller::-webkit-scrollbar{ height:8px; }
.season-scroller{-ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.season-scroller::-webkit-scrollbar { display: none; height: 0; width: 0; }
.season-chip{
  background: rgba(255,255,255,0.03);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.04);
  padding: 0 12px;
  height: var(--season-chip-height);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px; /* make chips square-ish */
  font-weight:700;
  cursor:pointer;
  white-space:nowrap;
}
.season-chip.active{ background: rgba(229,9,20,0.12); border-color: rgba(229,9,20,0.14); }
.scroller-button{
  position:absolute;
  top:50%;
  transform: translateY(-50%);
  width: var(--season-chip-height);
  height: var(--season-chip-height);
  border-radius: 6px; /* square corners */
  background: rgba(0,0,0,0.44);
  color:#fff;
  border:1px solid rgba(255,255,255,0.04);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index: 5;
  cursor:pointer;
  /* Prevent any transform transition so buttons don't animate vertically */
  transition: none !important;
}
.scroller-button.left{ left:6px; }
.scroller-button.right{ right:6px; }

/* Ensure hover/active states do not change vertical position */
.scroller-button:hover,
.scroller-button:active { transform: translateY(-50%); }

/* Simple bar pager — JS can populate active state by toggling .bar.active */
.season-pager{
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: -12px;
  display:flex;
  gap:8px;
  align-items:center;
  justify-content:center;
}
.season-pager .bar{ width:20px; height:6px; background: rgba(255,255,255,0.12); border-radius:3px; }
.season-pager .bar.active{ background: rgba(229,9,20,0.95); }

@media (max-width: 900px){
  .player-modal-content{ flex-direction:column; }
  .player-modal-left{ min-width: auto; height: 60vh }
  .player-right-panel{ flex: 0 0 auto; max-height: 240px; }
  .player-modal-box{ width: calc(100vw - 28px); height: calc(100vh - 28px); }
}





